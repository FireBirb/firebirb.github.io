<!DOCTYPE html>
<html>
	<head>
		<title>Тест</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="style.css"> 
	</head>
	<body>
		<header>
			<h1>Тест по основам веб-программирования</h1>
		</header>
		<main>
			<form id="forma">
				<fieldset>
					<legend>Перечислите технологии, входящие в базовый стек веб-программирования</legend>
					<div>
						<input type="checkbox" name="HTML" />
						<label for="HTML">HTML</label>
					</div>

					<div>
						<input type="checkbox" name="XML" />
						<label for="XML">XML</label>
					</div>
					
					<div>
						<input type="checkbox" name="CSS" />
						<label for="CSS">CSS</label>
					</div>
					
					<div>
						<input type="checkbox" name="Python" />
						<label for="Python">Python</label>
					</div>

					<div>
						<input type="checkbox" name="C#" />
						<label for="C#">C#</label>
					</div>
					
					<div>
						<input type="checkbox" name="JavaScript" />
						<label for="JavaScript">JavaScript</label>
					</div>
				</fieldset>
				
				<fieldset>
					<legend>Какой тэг должен быть первым в любом html файле?</legend>
					<div>
						<input type="text" name="FirstTag" />
					</div>
				</fieldset>
				
				<fieldset>
					<legend>Расположите в правильном порядке тэги (по порядку сверху вниз)</legend>
					<select name="Tag1">
						<option>article</option>
						<option>body</option>
						<option>footer</option>
						<option>header</option>
						<option>html</option>
						<option>main</option>
						<option>p</option>
						<option>section</option>
					</select>
					
					<select name="Tag2">
						<option>article</option>
						<option>body</option>
						<option>footer</option>
						<option>header</option>
						<option>html</option>
						<option>main</option>
						<option>p</option>
						<option>section</option>
					</select>
					
					<select name="Tag3">
						<option>article</option>
						<option>body</option>
						<option>footer</option>
						<option>header</option>
						<option>html</option>
						<option>main</option>
						<option>p</option>
						<option>section</option>
					</select>
					
					<select name="Tag4">
						<option>article</option>
						<option>body</option>
						<option>footer</option>
						<option>header</option>
						<option>html</option>
						<option>main</option>
						<option>p</option>
						<option>section</option>
					</select>
					
					<select name="Tag5">
						<option>article</option>
						<option>body</option>
						<option>footer</option>
						<option>header</option>
						<option>html</option>
						<option>main</option>
						<option>p</option>
						<option>section</option>
					</select>
					
					<select name="Tag6">
						<option>article</option>
						<option>body</option>
						<option>footer</option>
						<option>header</option>
						<option>html</option>
						<option>main</option>
						<option>p</option>
						<option>section</option>
					</select>
					
					<select name="Tag7">
						<option>article</option>
						<option>body</option>
						<option>footer</option>
						<option>header</option>
						<option>html</option>
						<option>main</option>
						<option>p</option>
						<option>section</option>
					</select>
					
					<select name="Tag8">
						<option>article</option>
						<option>body</option>
						<option>footer</option>
						<option>header</option>
						<option>html</option>
						<option>main</option>
						<option>p</option>
						<option>section</option>
					</select>
				</fieldset>
				
				<fieldset>
					<legend>Какой инструмент применяется для создания сетки из блоков?</legend>
						<div>
							<input type="radio" value="Flex" name="Setka"/>
							<label for="Flex">Flex</label>
						</div>
						
						<div>
							<input type="radio" value="Float" name="Setka" />
							<label for="Float">Float</label>
						</div>

						<div>
							<input type="radio" value="Setka" name="Setka" />
							<label for="Setka">Setka</label>
						</div>
						
						<div>
							<input type="radio" value="Grid" name="Setka" />
							<label for="Grid">Grid</label>
						</div>
				</fieldset>
				
				<fieldset>
					<legend>Какой селектор выбирает все элементы, являющиеся непосредственно дочерними для указанного элемента?</legend>
						<div>
							<input type="radio" value="bigger" name="Doch"/>
							<label for="bigger">></label>
						</div>
						
						<div>
							<input type="radio" value="Tilda" name="Doch" />
							<label for="Tilda">~</label>
						</div>

						<div>
							<input type="radio" value="Plus" name="Doch" />
							<label for="Plus">+</label>
						</div>
						
						<div>
							<input type="radio" value="Dollar" name="Doch" />
							<label for="Dollar">$</label>
						</div>
				</fieldset>
				
				<fieldset>
					<legend>Укажите, что из перечисленного является псевдоклассом</legend>
					<div>
						<input type="checkbox" name="hover" />
						<label for="hover">hover</label>
					</div>

					<div>
						<input type="checkbox" name="focus" />
						<label for="focus">focus</label>
					</div>
					
					<div>
						<input type="checkbox" name="after" />
						<label for="after">after</label>
					</div>
					
					<div>
						<input type="checkbox" name="first-line" />
						<label for="first-line">first-line</label>
					</div>

					<div>
						<input type="checkbox" name="first-child" />
						<label for="first-child">first-child</label>
					</div>
					
					<div>
						<input type="checkbox" name="required" />
						<label for="required">required</label>
					</div>
				</fieldset>
				
				<fieldset>
					<legend>Отправить ответы</legend>
						<input type="submit" value="Закончить тест!">
				</fieldset>
			</form>
		</main>
	</body>
	<script>
		var form = document.getElementById('forma');
		form.addEventListener('submit',function(e){
			e.preventDefault();
			var data = new FormData(this);
			var result_1 = (data.get('HTML') ? 1 : 0) + (data.get('CSS') ? 1 : 0) + (data.get('XML') ? -1 : 0 ) + (data.get('Python') ? -1 : 0) + (data.get('C#')? -1 : 0) + (data.get('JavaScript') ? 1 : 0);
			result_1 = result_1 > 0 ? result_1 : 0;
			var result_2 = data.get('FirstTag') == "<!DOCTYPE html>" ? 1 : 0;
			var result_3 = (data.get('Tag1') == "html" ? 1 : 0) + (data.get('Tag2') == "header" ? 1 : 0) + (data.get('Tag3') == "body" ? 1 : 0) + (data.get('Tag4') == "main" ? 1 : 0) + (data.get('Tag5') == "article" ? 1 : 0) + (data.get('Tag6') == "section" ? 1 : 0) +  (data.get('Tag7') == "p" ? 1 : 0) +  (data.get('Tag8') == "footer" ? 1 : 0);
			var result_4 = data.get('Setka') == "Grid" ? 1 : 0;
			var result_5 = data.get('Doch') == "bigger" ? 1 : 0;
			var result_6 = (data.get('hover') ? 1 : 0) + (data.get('focus') ? 1 : 0) + (data.get('after') ? -1 : 0 ) + (data.get('first-line') ? -1 : 0) + (data.get('first-child')? 1 : 0) + (data.get('required') ? 1 : 0);
			/*  1: 3
				2: 1
				3: 8
				4: 1
				5: 1
				6: 4*/

			var result = (result_1 * 8 + result_2 * 24 + result_3 * 3 + result_4 * 24 + result_5 * 24 + result_6 * 6) * 100 / (24 * 6);
			//alert("Result: " + result + "; isint: " +Number.isInteger(result));
			if (!Number.isInteger(result)){
				result = result.toFixed(2);
			}
			//result = Number.isInteger(result) ? result : result.toFixed(2);
			var quests = document.getElementsByTagName("fieldset")
			quests[0].style.backgroundColor = result_1 == 3 ? "#9fff80" : "#ff8080"; 
			quests[1].style.backgroundColor = result_2 == 1 ? "#9fff80" : "#ff8080"; 
			quests[2].style.backgroundColor = result_3 == 8 ? "#9fff80" : "#ff8080"; 
			quests[3].style.backgroundColor = result_4 == 1 ? "#9fff80" : "#ff8080"; 
			quests[4].style.backgroundColor = result_5 == 1 ? "#9fff80" : "#ff8080"; 
			quests[5].style.backgroundColor = result_6 == 4 ? "#9fff80" : "#ff8080"; 

			//alert("Ваш результат: " + result + "%");
			alert((result_1==3 ? 1 : 0)+(result_2==1 ? 1 : 0)+(result_3==8 ? 1 : 0)+(result_4==1 ? 1 : 0)+(result_5==1 ? 1 : 0)+(result_6==4 ? 1 : 0) + " правильных ответов");

})
	</script>
</html>